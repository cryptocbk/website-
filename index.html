<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåà –í–æ–ª—à–µ–±–Ω–∞—è –°—Ç—Ä–∞–Ω–∞ - –î–µ—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–ª–∞–∫–∞ */
        .clouds {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .cloud {
            position: absolute;
            background: white;
            border-radius: 100px;
            opacity: 0.4;
            animation: float 20s infinite;
        }

        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: white;
            border-radius: 100px;
        }

        .cloud1 {
            width: 100px;
            height: 40px;
            top: 20%;
            animation-duration: 25s;
        }

        .cloud1::before {
            width: 50px;
            height: 50px;
            top: -25px;
            left: 10px;
        }

        .cloud1::after {
            width: 60px;
            height: 40px;
            top: -15px;
            right: 10px;
        }

        .cloud2 {
            width: 80px;
            height: 35px;
            top: 60%;
            animation-duration: 30s;
            animation-delay: 5s;
        }

        .cloud2::before {
            width: 60px;
            height: 45px;
            top: -20px;
            left: 15px;
        }

        .cloud2::after {
            width: 50px;
            height: 35px;
            top: -10px;
            right: 15px;
        }

        @keyframes float {
            from {
                left: -100px;
            }
            to {
                left: calc(100% + 100px);
            }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .header {
            text-align: center;
            background: white;
            border-radius: 30px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            animation: bounceIn 1s;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .title {
            font-size: 3em;
            background: linear-gradient(45deg, #f093fb, #f5576c, #4facfe, #00f2fe);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 3s ease infinite;
            margin-bottom: 10px;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        /* –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .nav-menu {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .nav-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .nav-btn.stories {
            background: linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 52%, #2BFF88 90%);
            color: white;
        }

        .nav-btn.games {
            background: linear-gradient(135deg, #FFE985 0%, #FA742B 100%);
            color: white;
        }

        .nav-btn.quiz {
            background: linear-gradient(135deg, #72EDF2 0%, #5151E5 100%);
            color: white;
        }

        .nav-btn.draw {
            background: linear-gradient(135deg, #FF6FD8 0%, #3813C2 100%);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏ */
        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏—Å—Ç–æ—Ä–∏–π */
        .stories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .story-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .story-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
            opacity: 0;
        }

        .story-card:hover::before {
            animation: shine 0.5s;
        }

        @keyframes shine {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
                opacity: 0;
            }
        }

        .story-card:hover {
            transform: translateY(-10px) rotate(-2deg);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .story-emoji {
            font-size: 4em;
            text-align: center;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .story-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .story-preview {
            color: #666;
            line-height: 1.6;
            text-align: center;
        }

        /* –ò–≥—Ä–æ–≤–∞—è —Å–µ–∫—Ü–∏—è */
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .game-title {
            font-size: 2em;
            color: #333;
            margin-bottom: 20px;
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            transition: all 0.3s;
            position: relative;
            transform-style: preserve-3d;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
        }

        .memory-card-front,
        .memory-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
        }

        .memory-card-front {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .memory-card-back {
            background: white;
            transform: rotateY(180deg);
            border: 3px solid #667eea;
        }

        .memory-card.matched {
            animation: matchFound 0.5s;
            pointer-events: none;
        }

        @keyframes matchFound {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ */
        .quiz-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        .quiz-question {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-image {
            font-size: 5em;
            text-align: center;
            margin-bottom: 20px;
            animation: wiggle 2s infinite;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .quiz-option {
            padding: 15px;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            background: white;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            transform: scale(1.05);
            border-color: #667eea;
            background: linear-gradient(135deg, #f0f0ff 0%, #e0e0ff 100%);
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #55efc4 0%, #81ecec 100%);
            border-color: #00b894;
            animation: correctAnswer 0.5s;
        }

        .quiz-option.wrong {
            background: linear-gradient(135deg, #fab1a0 0%, #ff7675 100%);
            border-color: #d63031;
            animation: wrongAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes wrongAnswer {
            0%, 20%, 40%, 60%, 80%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        }

        /* –†–∏—Å–æ–≤–∞–ª–∫–∞ */
        .drawing-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .drawing-tools {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tool-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .color-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .color-btn:hover,
        .color-btn.active {
            transform: scale(1.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        #canvas {
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            display: block;
            margin: 0 auto;
            cursor: crosshair;
            background: white;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ */
        .story-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .story-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .story-content {
            background: white;
            border-radius: 30px;
            padding: 40px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.5s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            cursor: pointer;
            color: #999;
            transition: all 0.3s;
        }

        .close-modal:hover {
            color: #333;
            transform: rotate(90deg);
        }

        .story-full {
            font-size: 1.2em;
            line-height: 1.8;
            color: #444;
        }

        .story-image {
            font-size: 6em;
            text-align: center;
            margin: 20px 0;
            animation: storyAnimation 3s infinite;
        }

        @keyframes storyAnimation {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(5deg); }
            75% { transform: scale(0.9) rotate(-5deg); }
        }

        /* –°—á–µ—Ç—á–∏–∫ –æ—á–∫–æ–≤ */
        .score-container {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 100;
            animation: slideInRight 0.5s;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .score {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .stars {
            color: gold;
            font-size: 1.3em;
            margin-left: 10px;
        }

        /* –ù–∞–≥—Ä–∞–¥—ã */
        .achievement {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transform: translateX(400px);
            transition: transform 0.5s;
            z-index: 1000;
        }

        .achievement.show {
            transform: translateX(0);
        }

        .achievement-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievement-text {
            font-size: 0.9em;
        }

        /* –ó–≤—É–∫–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .sound-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: none;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            cursor: pointer;
            font-size: 1.5em;
            z-index: 100;
            transition: all 0.3s;
        }

        .sound-toggle:hover {
            transform: scale(1.1);
        }

        .sound-toggle.muted {
            background: #e0e0e0;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .title {
                font-size: 2em;
            }
            
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .score-container {
                top: auto;
                bottom: 80px;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-content {
            text-align: center;
            color: white;
        }

        .loader-emoji {
            font-size: 5em;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-text {
            font-size: 1.5em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-emoji">üåà</div>
            <div class="loader-text">–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–æ–ª—à–µ–±—Å—Ç–≤–æ...</div>
        </div>
    </div>

    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±–ª–∞–∫–∞ -->
    <div class="clouds">
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
    </div>

    <!-- –°—á–µ—Ç—á–∏–∫ –æ—á–∫–æ–≤ -->
    <div class="score-container">
        <span class="score">–û—á–∫–∏: <span id="scoreValue">0</span></span>
        <span class="stars">‚≠ê</span>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ -->
    <button class="sound-toggle" onclick="toggleSound()" id="soundBtn">üîä</button>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ -->
    <div class="achievement" id="achievement">
        <div class="achievement-title">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</div>
        <div class="achievement-text" id="achievementText">–¢–µ–∫—Å—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1 class="title">üåà –í–æ–ª—à–µ–±–Ω–∞—è –°—Ç—Ä–∞–Ω–∞</h1>
            <p class="subtitle">–ò–≥—Ä–∞–π, —É—á–∏—Å—å –∏ –≤–µ—Å–µ–ª–∏—Å—å!</p>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é -->
        <div class="nav-menu">
            <button class="nav-btn stories" onclick="showSection('stories')">
                üìö –°–∫–∞–∑–∫–∏
            </button>
            <button class="nav-btn games" onclick="showSection('games')">
                üéÆ –ò–≥—Ä—ã
            </button>
            <button class="nav-btn quiz" onclick="showSection('quiz')">
                üß© –í–∏–∫—Ç–æ—Ä–∏–Ω–∞
            </button>
            <button class="nav-btn draw" onclick="showSection('draw')">
                üé® –†–∏—Å–æ–≤–∞–ª–∫–∞
            </button>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–π -->
        <div class="content-section active" id="stories">
            <div class="stories-grid">
                <div class="story-card" onclick="openStory(1)">
                    <div class="story-emoji">ü¶Å</div>
                    <h3 class="story-title">–•—Ä–∞–±—Ä—ã–π –õ—å–≤—ë–Ω–æ–∫</h3>
                    <p class="story-preview">–ò—Å—Ç–æ—Ä–∏—è –æ –º–∞–ª–µ–Ω—å–∫–æ–º –ª—å–≤—ë–Ω–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—É—á–∏–ª—Å—è –±—ã—Ç—å —Å–º–µ–ª—ã–º...</p>
                </div>
                <div class="story-card" onclick="openStory(2)">
                    <div class="story-emoji">üåü</div>
                    <h3 class="story-title">–í–æ–ª—à–µ–±–Ω–∞—è –ó–≤–µ–∑–¥–∞</h3>
                    <p class="story-preview">–°–∫–∞–∑–∫–∞ –æ –∑–≤—ë–∑–¥–æ—á–∫–µ, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª–Ω—è–ª–∞ –∂–µ–ª–∞–Ω–∏—è...</p>
                </div>
                <div class="story-card" onclick="openStory(3)">
                    <div class="story-emoji">üê∞</div>
                    <h3 class="story-title">–í–µ—Å—ë–ª—ã–π –ö—Ä–æ–ª–∏–∫</h3>
                    <p class="story-preview">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∫—Ä–æ–ª–∏–∫–∞ –≤ –≤–æ–ª—à–µ–±–Ω–æ–º –ª–µ—Å—É...</p>
                </div>
                <div class="story-card" onclick="openStory(4)">
                    <div class="story-emoji">ü¶ã</div>
                    <h3 class="story-title">–†–∞–¥—É–∂–Ω–∞—è –ë–∞–±–æ—á–∫–∞</h3>
                    <p class="story-preview">–ò—Å—Ç–æ—Ä–∏—è –æ –±–∞–±–æ—á–∫–µ, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞—Å–∫—Ä–∞—à–∏–≤–∞–ª–∞ –º–∏—Ä...</p>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –∏–≥—Ä -->
        <div class="content-section" id="games">
            <div class="game-container">
                <h2 class="game-title">üéØ –ù–∞–π–¥–∏ –ø–∞—Ä—É!</h2>
                <div class="memory-game" id="memoryGame">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <button class="nav-btn games" onclick="resetMemoryGame()" style="margin-top: 20px;">
                    üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞
                </button>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã -->
        <div class="content-section" id="quiz">
            <div class="quiz-container">
                <div class="quiz-image" id="quizImage">üêò</div>
                <h2 class="quiz-question" id="quizQuestion">–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ?</h2>
                <div class="quiz-options" id="quizOptions">
                    <button class="quiz-option" onclick="checkAnswer(0)">–°–ª–æ–Ω</button>
                    <button class="quiz-option" onclick="checkAnswer(1)">–ú—ã—à—å</button>
                    <button class="quiz-option" onclick="checkAnswer(2)">–ö–æ—à–∫–∞</button>
                    <button class="quiz-option" onclick="checkAnswer(3)">–°–æ–±–∞–∫–∞</button>
                </div>
                <button class="nav-btn quiz" onclick="nextQuestion()" style="margin-top: 20px;">
                    ‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                </button>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è -->
        <div class="content-section" id="draw">
            <div class="drawing-container">
                <h2 class="game-title">üé® –ù–∞—Ä–∏—Å—É–π —Å–≤–æ—é –∫–∞—Ä—Ç–∏–Ω—É!</h2>
                <div class="drawing-tools">
                    <button class="tool-btn" onclick="clearCanvas()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button class="tool-btn" onclick="changeSize(5)">üñäÔ∏è –¢–æ–Ω–∫–∞—è</button>
                    <button class="tool-btn" onclick="changeSize(10)">üñåÔ∏è –°—Ä–µ–¥–Ω—è—è</button>
                    <button class="tool-btn" onclick="changeSize(20)">üñçÔ∏è –¢–æ–ª—Å—Ç–∞—è</button>
                </div>
                <div class="drawing-tools">
                    <button class="color-btn" style="background: #FF6B6B;" onclick="changeColor('#FF6B6B')"></button>
                    <button class="color-btn" style="background: #4ECDC4;" onclick="changeColor('#4ECDC4')"></button>
                    <button class="color-btn" style="background: #45B7D1;" onclick="changeColor('#45B7D1')"></button>
                    <button class="color-btn" style="background: #96CEB4;" onclick="changeColor('#96CEB4')"></button>
                    <button class="color-btn" style="background: #FFEAA7;" onclick="changeColor('#FFEAA7')"></button>
                    <button class="color-btn" style="background: #DDA0DD;" onclick="changeColor('#DDA0DD')"></button>
                    <button class="color-btn" style="background: #F4A460;" onclick="changeColor('#F4A460')"></button>
                    <button class="color-btn" style="background: #000000;" onclick="changeColor('#000000')"></button>
                </div>
                <canvas id="canvas" width="600" height="400"></canvas>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–π -->
    <div class="story-modal" id="storyModal">
        <div class="story-content">
            <span class="close-modal" onclick="closeStory()">‚úñ</span>
            <div class="story-image" id="storyEmoji">ü¶Å</div>
            <h2 id="storyTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏</h2>
            <div class="story-full" id="storyText">
                –¢–µ–∫—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏...
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let score = 0;
        let soundEnabled = true;
        let currentQuestionIndex = 0;
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        // –ò—Å—Ç–æ—Ä–∏–∏
        const stories = {
            1: {
                title: "–•—Ä–∞–±—Ä—ã–π –õ—å–≤—ë–Ω–æ–∫",
                emoji: "ü¶Å",
                text: "–ñ–∏–ª-–±—ã–ª –º–∞–ª–µ–Ω—å–∫–∏–π –ª—å–≤—ë–Ω–æ–∫ –ø–æ –∏–º–µ–Ω–∏ –õ—ë–≤–∞. –û–Ω –±–æ—è–ª—Å—è —Ç–µ–º–Ω–æ—Ç—ã –∏ –≥—Ä–æ–º–∫–∏—Ö –∑–≤—É–∫–æ–≤. –ù–æ –æ–¥–Ω–∞–∂–¥—ã –µ–≥–æ –¥—Ä—É–≥ –∑–∞–π—á–æ–Ω–æ–∫ –ø–æ—Ç–µ—Ä—è–ª—Å—è –≤ —Ç—ë–º–Ω–æ–º –ª–µ—Å—É. –õ—ë–≤–∞ —Å–æ–±—Ä–∞–ª –≤—Å—é —Å–≤–æ—é —Ö—Ä–∞–±—Ä–æ—Å—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏–ª—Å—è –Ω–∞ –ø–æ–∏—Å–∫–∏. –ü–æ –ø—É—Ç–∏ –æ–Ω –≤—Å—Ç—Ä–µ—Ç–∏–ª –º—É–¥—Ä—É—é —Å–æ–≤—É ü¶â, –∫–æ—Ç–æ—Ä–∞—è —Å–∫–∞–∑–∞–ª–∞: '–•—Ä–∞–±—Ä–æ—Å—Ç—å - —ç—Ç–æ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–∞—Ö–∞, –∞ —É–º–µ–Ω–∏–µ –∏–¥—Ç–∏ –≤–ø–µ—Ä—ë–¥ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–≥–æ'. –õ—ë–≤–∞ –Ω–∞—à—ë–ª –¥—Ä—É–≥–∞ –∏ –ø–æ–Ω—è–ª, —á—Ç–æ —Å—Ç–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–º —Ö—Ä–∞–±—Ä–µ—Ü–æ–º! –° —Ç–µ—Ö –ø–æ—Ä –æ–Ω –ø–æ–º–æ–≥–∞–ª –≤—Å–µ–º, –∫—Ç–æ –Ω—É–∂–¥–∞–ª—Å—è –≤ –ø–æ–º–æ—â–∏. üåü"
            },
            2: {
                title: "–í–æ–ª—à–µ–±–Ω–∞—è –ó–≤–µ–∑–¥–∞",
                emoji: "üåü",
                text: "–í—ã—Å–æ–∫–æ –≤ –Ω–µ–±–µ –∂–∏–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –∑–≤—ë–∑–¥–æ—á–∫–∞. –ö–∞–∂–¥—É—é –Ω–æ—á—å –æ–Ω–∞ —Å–ª—É—à–∞–ª–∞ –∂–µ–ª–∞–Ω–∏—è –¥–µ—Ç–µ–π –∏ —Å—Ç–∞—Ä–∞–ª–∞—Å—å –∏—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç—å. –û–¥–Ω–∞ –¥–µ–≤–æ—á–∫–∞ –ø–æ–∂–µ–ª–∞–ª–∞, —á—Ç–æ–±—ã –µ—ë –±–æ–ª—å–Ω–∞—è –±–∞–±—É—à–∫–∞ –≤—ã–∑–¥–æ—Ä–æ–≤–µ–ª–∞. –ó–≤—ë–∑–¥–æ—á–∫–∞ –ø–æ–ª–µ—Ç–µ–ª–∞ –∫ –õ—É–Ω–µ üåô –∑–∞ –≤–æ–ª—à–µ–±–Ω–æ–π –ø—ã–ª—å—Ü–æ–π. –ü—É—Ç—å –±—ã–ª –¥–æ–ª–≥–∏–π –∏ —Ç—Ä—É–¥–Ω—ã–π, –Ω–æ –∑–≤—ë–∑–¥–æ—á–∫–∞ –Ω–µ —Å–¥–∞–≤–∞–ª–∞—Å—å. –û–Ω–∞ –ø—Ä–∏–Ω–µ—Å–ª–∞ –≤–æ–ª—à–µ–±–Ω—É—é –ø—ã–ª—å—Ü—É, –∏ –±–∞–±—É—à–∫–∞ –≤—ã–∑–¥–æ—Ä–æ–≤–µ–ª–∞! –° —Ç–µ—Ö –ø–æ—Ä –∑–≤—ë–∑–¥–æ—á–∫–∞ —Å–≤–µ—Ç–∏—Ç —è—Ä—á–µ –≤—Å–µ—Ö, –Ω–∞–ø–æ–º–∏–Ω–∞—è –æ —Ç–æ–º, —á—Ç–æ –¥–æ–±—Ä—ã–µ –¥–µ–ª–∞ –¥–µ–ª–∞—é—Ç –º–∏—Ä –ª—É—á—à–µ. ‚ú®"
            },
            3: {
                title: "–í–µ—Å—ë–ª—ã–π –ö—Ä–æ–ª–∏–∫",
                emoji: "üê∞",
                text: "–í –≤–æ–ª—à–µ–±–Ω–æ–º –ª–µ—Å—É –∂–∏–ª –∫—Ä–æ–ª–∏–∫ –ü—Ä—ã–≥-–°–∫–æ–∫. –û–Ω –ª—é–±–∏–ª –ø—Ä—ã–≥–∞—Ç—å –∏ –≤–µ—Å–µ–ª–∏—Ç—å—Å—è. –û–¥–Ω–∞–∂–¥—ã –æ–Ω –Ω–∞—à—ë–ª –≤–æ–ª—à–µ–±–Ω—É—é –º–æ—Ä–∫–æ–≤–∫—É ü•ï, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª–Ω—è–ª–∞ –∂–µ–ª–∞–Ω–∏—è. –ù–æ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–≥–∞–¥–∞—Ç—å —á—Ç–æ-—Ç–æ –¥–ª—è —Å–µ–±—è, –ü—Ä—ã–≥-–°–∫–æ–∫ –ø–æ–∂–µ–ª–∞–ª, —á—Ç–æ–±—ã –≤—Å–µ –µ–≥–æ –¥—Ä—É–∑—å—è –±—ã–ª–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã. –ò —Å–ª—É—á–∏–ª–æ—Å—å —á—É–¥–æ! –í –ª–µ—Å—É –ø–æ—è–≤–∏–ª–∞—Å—å —Ä–∞–¥—É–≥–∞ üåà, —Ä–∞—Å—Ü–≤–µ–ª–∏ —Ü–≤–µ—Ç—ã üå∏, –∏ –≤—Å–µ –∑–≤–µ—Ä–∏ —Å—Ç–∞–ª–∏ —É–ª—ã–±–∞—Ç—å—Å—è. –ü—Ä—ã–≥-–°–∫–æ–∫ –ø–æ–Ω—è–ª, —á—Ç–æ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —Å—á–∞—Å—Ç—å–µ - –¥–µ–ª–∏—Ç—å—Å—è —Ä–∞–¥–æ—Å—Ç—å—é —Å –¥—Ä—É–∑—å—è–º–∏!"
            },
            4: {
                title: "–†–∞–¥—É–∂–Ω–∞—è –ë–∞–±–æ—á–∫–∞",
                emoji: "ü¶ã",
                text: "–ñ–∏–ª–∞-–±—ã–ª–∞ –±–∞–±–æ—á–∫–∞, —É –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫—Ä—ã–ª—ã—à–∫–∏. –í—Å–µ –¥—Ä—É–≥–∏–µ –±–∞–±–æ—á–∫–∏ –±—ã–ª–∏ —è—Ä–∫–∏–º–∏ –∏ –∫—Ä–∞—Å–∏–≤—ã–º–∏, –∞ –æ–Ω–∞ - –Ω–µ—Ç. –ù–æ –æ–¥–Ω–∞–∂–¥—ã –æ–Ω–∞ —É–≤–∏–¥–µ–ª–∞, –∫–∞–∫ –ø–ª–∞—á–µ—Ç –º–∞–ª–µ–Ω—å–∫–∏–π —Ü–≤–µ—Ç–æ–∫ üåª - –æ–Ω –±—ã–ª –±–µ—Å—Ü–≤–µ—Ç–Ω—ã–º. –ë–∞–±–æ—á–∫–∞ —Ä–µ—à–∏–ª–∞ –ø–æ–º–æ—á—å –∏ –ø–æ–ª–µ—Ç–µ–ª–∞ –∫ —Ä–∞–¥—É–≥–µ –∑–∞ –∫—Ä–∞—Å–∫–∞–º–∏. –†–∞–¥—É–≥–∞ –ø–æ–¥–∞—Ä–∏–ª–∞ –µ–π –≤–æ–ª—à–µ–±–Ω—É—é –∫–∏—Å—Ç–æ—á–∫—É üé®. –ë–∞–±–æ—á–∫–∞ —Ä–∞—Å–∫—Ä–∞—Å–∏–ª–∞ —Ü–≤–µ—Ç–æ–∫, –ø–æ—Ç–æ–º –¥—Ä—É–≥–∏–µ —Ü–≤–µ—Ç—ã, –∏ –≤–µ—Å—å –ª—É–≥ —Å—Ç–∞–ª —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–º! –ê –µ—ë –∫—Ä—ã–ª—ã—à–∫–∏ —Å—Ç–∞–ª–∏ –ø–µ—Ä–µ–ª–∏–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ —Ü–≤–µ—Ç–∞–º–∏ —Ä–∞–¥—É–≥–∏. –¢–∞–∫ –æ–Ω–∞ –ø–æ–Ω—è–ª–∞, —á—Ç–æ –∫—Ä–∞—Å–æ—Ç–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Ç–µ–º, –∫—Ç–æ –¥–µ–ª–∞–µ—Ç –º–∏—Ä –∫—Ä–∞—Å–∏–≤–µ–µ!"
            }
        };

        // –í–æ–ø—Ä–æ—Å—ã –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        const quizQuestions = [
            {
                emoji: "üêò",
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –Ω–∞ —Å—É—à–µ?",
                options: ["–°–ª–æ–Ω", "–ú—ã—à—å", "–ö–æ—à–∫–∞", "–°–æ–±–∞–∫–∞"],
                correct: 0
            },
            {
                emoji: "üåà",
                question: "–°–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ –≤ —Ä–∞–¥—É–≥–µ?",
                options: ["5", "7", "10", "3"],
                correct: 1
            },
            {
                emoji: "üçé",
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ —Å–ø–µ–ª–æ–µ —è–±–ª–æ–∫–æ?",
                options: ["–°–∏–Ω–µ–µ", "–§–∏–æ–ª–µ—Ç–æ–≤–æ–µ", "–ö—Ä–∞—Å–Ω–æ–µ", "–ß—ë—Ä–Ω–æ–µ"],
                correct: 2
            },
            {
                emoji: "üêù",
                question: "–ß—Ç–æ –¥–µ–ª–∞—é—Ç –ø—á—ë–ª—ã?",
                options: ["–ú—ë–¥", "–ú–æ–ª–æ–∫–æ", "–•–ª–µ–±", "–°—ã—Ä"],
                correct: 0
            },
            {
                emoji: "üåô",
                question: "–ö–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ª—É–Ω–∞?",
                options: ["–î–Ω—ë–º", "–ù–æ—á—å—é", "–£—Ç—Ä–æ–º", "–í –æ–±–µ–¥"],
                correct: 1
            }
        ];

        // –≠–º–æ–¥–∑–∏ –¥–ª—è –∏–≥—Ä—ã –ø–∞–º—è—Ç–∏
        const memoryEmojis = ["üê∂", "üê±", "üê≠", "üêπ", "üê∞", "ü¶ä", "üêª", "üêº"];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = function() {
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
                initMemoryGame();
                initCanvas();
                playSound('start');
            }, 2000);
        };

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π
        function showSection(section) {
            document.querySelectorAll('.content-section').forEach(s => {
                s.classList.remove('active');
            });
            document.getElementById(section).classList.add('active');
            playSound('click');
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
        function openStory(storyId) {
            const story = stories[storyId];
            document.getElementById('storyEmoji').textContent = story.emoji;
            document.getElementById('storyTitle').textContent = story.title;
            document.getElementById('storyText').innerHTML = story.text;
            document.getElementById('storyModal').classList.add('active');
            addScore(10);
            playSound('open');
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
        function closeStory() {
            document.getElementById('storyModal').classList.remove('active');
            playSound('close');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø–∞–º—è—Ç–∏
        function initMemoryGame() {
            const gameContainer = document.getElementById('memoryGame');
            gameContainer.innerHTML = '';
            memoryCards = [];
            flippedCards = [];
            matchedPairs = 0;
            
            // –°–æ–∑–¥–∞–µ–º –ø–∞—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫
            const cards = [...memoryEmojis, ...memoryEmojis];
            cards.sort(() => Math.random() - 0.5);
            
            cards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="memory-card-front">?</div>
                    <div class="memory-card-back">${emoji}</div>
                `;
                card.onclick = () => flipCard(card);
                gameContainer.appendChild(card);
                memoryCards.push(card);
            });
        }

        // –ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
        function flipCard(card) {
            if (flippedCards.length >= 2) return;
            if (card.classList.contains('flipped')) return;
            if (card.classList.contains('matched')) return;
            
            card.classList.add('flipped');
            flippedCards.push(card);
            playSound('flip');
            
            if (flippedCards.length === 2) {
                checkMatch();
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.emoji === card2.dataset.emoji) {
                setTimeout(() => {
                    card1.classList.add('matched');
                    card2.classList.add('matched');
                    matchedPairs++;
                    addScore(20);
                    playSound('match');
                    
                    if (matchedPairs === memoryEmojis.length) {
                        showAchievement("–ò–≥—Ä–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!", "–¢—ã –Ω–∞—à—ë–ª –≤—Å–µ –ø–∞—Ä—ã! üéâ");
                        addScore(50);
                    }
                    
                    flippedCards = [];
                }, 500);
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    flippedCards = [];
                    playSound('wrong');
                }, 1000);
            }
        }

        // –°–±—Ä–æ—Å –∏–≥—Ä—ã –ø–∞–º—è—Ç–∏
        function resetMemoryGame() {
            initMemoryGame();
            playSound('reset');
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        function checkAnswer(optionIndex) {
            const question = quizQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');
            
            if (optionIndex === question.correct) {
                options[optionIndex].classList.add('correct');
                addScore(15);
                playSound('correct');
                showAchievement("–ü—Ä–∞–≤–∏–ª—å–Ω–æ!", "–û—Ç–ª–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç! üéØ");
            } else {
                options[optionIndex].classList.add('wrong');
                options[question.correct].classList.add('correct');
                playSound('wrong');
            }
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
        }

        // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        function nextQuestion() {
            currentQuestionIndex = (currentQuestionIndex + 1) % quizQuestions.length;
            const question = quizQuestions[currentQuestionIndex];
            
            document.getElementById('quizImage').textContent = question.emoji;
            document.getElementById('quizQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option;
                button.onclick = () => checkAnswer(index);
                optionsContainer.appendChild(button);
            });
            
            playSound('next');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö–æ–ª—Å—Ç–∞ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
        let canvas, ctx;
        let isDrawing = false;
        let currentColor = '#FF6B6B';
        let currentSize = 10;

        function initCanvas() {
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            
            // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ö–æ–ª—Å—Ç–∞
            if (window.innerWidth < 768) {
                canvas.width = window.innerWidth - 40;
                canvas.height = 300;
            }
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            ctx.lineWidth = currentSize;
            ctx.lineCap = 'round';
            ctx.strokeStyle = currentColor;
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                             e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            playSound('clear');
            showAchievement("–ß–∏—Å—Ç—ã–π —Ö–æ–ª—Å—Ç!", "–ù–∞—á–Ω–∏ —Ä–∏—Å–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ! üé®");
        }

        function changeColor(color) {
            currentColor = color;
            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            playSound('color');
        }

        function changeSize(size) {
            currentSize = size;
            playSound('size');
        }

        // –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤
        function addScore(points) {
            score += points;
            document.getElementById('scoreValue').textContent = score;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –æ—á–∫–æ–≤
            const scoreElement = document.getElementById('scoreValue');
            scoreElement.style.transform = 'scale(1.5)';
            setTimeout(() => {
                scoreElement.style.transform = 'scale(1)';
            }, 300);
        }

        // –ü–æ–∫–∞–∑ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        function showAchievement(title, text) {
            const achievement = document.getElementById('achievement');
            document.querySelector('.achievement-title').textContent = 'üèÜ ' + title;
            document.getElementById('achievementText').textContent = text;
            achievement.classList.add('show');
            
            setTimeout(() => {
                achievement.classList.remove('show');
            }, 3000);
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const btn = document.getElementById('soundBtn');
            btn.textContent = soundEnabled ? 'üîä' : 'üîá';
            btn.classList.toggle('muted');
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ (–∏–º–∏—Ç–∞—Ü–∏—è)
        function playSound(type) {
            if (!soundEnabled) return;
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∏ –±—ã –Ω–∞—Å—Ç–æ—è—â–∏–µ –∑–≤—É–∫–∏
            console.log('Playing sound:', type);
            
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
            const btn = document.getElementById('soundBtn');
            btn.style.transform = 'scale(1.2)';
            setTimeout(() => {
                btn.style.transform = 'scale(1)';
            }, 100);
        }

        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeStory();
            }
        });
    </script>
</body>
</html>